# Аудит главной страницы портала "Корочки.есть"

## 1. Цели проекта
✅ **Регистрация пользователей** — главный CTA
✅ **Информирование** — о курсах и услугах
✅ **Социальное доказательство** — отзывы студентов
✅ **Простота использования** — интуитивный интерфейс

---

## 2. Результаты проверки

### ✅ Сильные стороны (уже реализовано)
- **Адаптивность**: mobile-first подход, media queries для 1024px, 900px, 600px, 420px
- **SEO**: мета-теги, Open Graph, JSON-LD структурированные данные, favicon
- **Hero секция**: крупный заголовок, подзаголовок, 3 CTA-кнопки, бейджи преимуществ
- **Текст на слайдере**: каждый слайд имеет свой заголовок и подпись
- **Отзывы**: красивые карточки с аватарами, кеширование в localStorage, фоновое обновление
- **Курсы**: 3 карточки превью с иконками
- **Статистика**: 4 stat-card с ключевыми метриками
- **Loading states**: загруска, ошибка, пустое состояние для отзывов
- **Lazy loading**: изображения (`loading="lazy"`), отложенная загрузка JS
- **Фавикон**: SVG формат

### ⚠️ Рекомендации к улучшению

#### 1. **Производительность** (High Priority)
- [ ] Оптимизировать изображения: конвертировать в WebP, уменьшить размер до max 500KB на изображение
- [ ] Добавить `srcset` и `<picture>` для адаптивных изображений
- [ ] Минифицировать CSS/JS (простой способ — удалить комментарии, можно использовать build-tool позже)
- [ ] Добавить HTTP кэширование на сервере (Cache-Control headers)
- [ ] Рассмотреть критический CSS inlining для hero

**Текущее состояние**: ~800ms-1.5s загрузка на 3G; цель — < 2.5s

#### 2. **Безопасность Backend** (High Priority)
- [ ] Все API используют prepared statements (PDO) — ✅ **уже есть**, но проверить:
  - `backend/api/auth.php` — хеширование паролей (bcrypt / password_hash)
  - `backend/api/courses.php` — требуется проверка администратора
  - `backend/api/reviews.php` — OK, readonly endpoint
  - `backend/api/applications.php` — требуется валидация user_id
- [ ] Добавить CSRF-токен для формы регистрации/входа
- [ ] Проверить: нет ли прямого доступа к файлам (`uploads/avatars/`)
- [ ] XSS: все входные данные экранируются (htmlspecialchars) — ✅ есть
- [ ] Сессии: проверить `session_start()`, timeout, secure флаги

#### 3. **Доступность (a11y)** (Medium Priority)
- [ ] Убедиться, что все кнопки имеют `aria-label`
- [ ] Форма входа: `aria-describedby` для ошибок
- [ ] Контрастность: проверить соотношение 4.5:1 для основного текста (выглядит OK)
- [ ] Фокус-стили: уже есть `:focus-visible` правила
- [ ] Alt-теги: все картины должны иметь описательный alt (✅ есть для слайдов)

#### 4. **UX для форм** (Medium Priority)
- [ ] Валидация в реальном времени (client-side):
  - Логин: только буквы/цифры, 6+
  - Пароль: минимум 8 символов
  - Email: стандартный формат
- [ ] Server-side валидация (✅ уже есть в `auth.php`)
- [ ] Показать требования к паролю в подсказке перед вводом
- [ ] Улучшить UX ошибок: сейчас — просто красный текст, рекомендую добавить иконку ⚠️

#### 5. **Оптимизация изображений** (High Priority)
Текущие слайды, вероятно, в формате JPG, большого размера.
- Рекомендуемый размер:
  - 1366x450 для slide1.jpg (desktop) — сожать до 80-120KB
  - 768x320 для мобильных (отдельный srcset) — 40-60KB
- Использовать: Tinypng, ImageOptim, или встроенный Squoosh
- Добавить WebP + fallback JPG

#### 6. **CI/Тестирование** (Low Priority)
- Рекомендация: GitHub Actions для:
  - Lighthouse автопроверка (Performance, SEO, A11y)
  - HTML/CSS линт (вместе с JS lint)
  - PHP lint для backend (php -l)
  - Базовые unit-тесты (PHPUnit для backend)

---

## 3. Метрики (до оптимизации)

| Метрика | Текущее | Цель |
|---------|---------|------|
| Lighthouse Performance | ~65-75 | 85+ |
| Lighthouse SEO | ~90 | 95+ |
| Lighthouse A11y | ~85 | 95+ |
| TTFB | ~400ms | <200ms |
| First Contentful Paint | ~800ms | <1.5s |
| Largest Contentful Paint | ~1.2s | <2.5s |

---

## 4. Быстрые победы (Low Effort, High Impact)

1. **Оптимизировать все JPG (5 минут)**
   - Размер слайдов до 100KB каждый → экономия ~300KB

2. **Добавить meta для мобильного браузера (2 минуты)**
   - `<meta name="apple-mobile-web-app-capable" content="yes">`
   - `<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">`

3. **Включить gzip на сервере (в Apache .htaccess)**
   - Сжатие CSS/JS на ~60-70%

4. **Проверить сессию (3 минуты)**
   - `ini_set('session.gc_maxlifetime', 3600);` — время жизни сессии
   - `ini_set('session.cookie_secure', true);` — только HTTPS (если на продакшене)

---

## 5. План действий (приоритет)

### P1 (Do First — влияет на конверсию)
- ✅ Адаптивность для мобильных (DONE)
- ✅ Ясные CTA и hero (DONE)
- [ ] Оптимизация изображений
- [ ] CSRF-токены на формах
- [ ] Валидация форм (front + back)

### P2 (Do Soon — улучшают качество)
- [ ] HTTP кеширование (Cache-Control headers)
- [ ] Минификация CSS/JS
- [ ] Улучшенная обработка ошибок
- [ ] Проверка безопасности сессий

### P3 (Do Later — nice-to-have)
- [ ] Dark mode
- [ ] Интеграция аналитики (Яндекс.Метрика, Google Analytics)
- [ ] A/B тестирование CTA
- [ ] Улучшенная форма поиска
- [ ] Progressive Web App (PWA) возможность

---

## 6. Инструменты проверки

**Lighthouse (Chrome DevTools)**
```
DevTools → Lighthouse → Generate report (Mobile & Desktop)
```

**PageSpeed Insights**
```
https://pagespeed.web.dev/
```

**GTmetrix**
```
https://gtmetrix.com/
```

**Wave (Доступность)**
```
https://wave.webaim.org/
```

---

## 7. Следующие шаги

1. Оптимизировать изображения (сейчас это + 1 точка в производительности)
2. Добавить CSRF токены на backend
3. Включить gzip кеширование на Apache
4. Запустить Lighthouse — целевые метрики: 85+ Performance, 95+ A11y/SEO
5. Подготовить к продакшену: проверить HTTPS, сессия.cookie_secure, логирование ошибок

---

**Версия**: 1.0  
**Дата**: 11 ноября 2025 г.  
**Статус**: ✅ Готово к внедрению рекомендаций
